# 🏇 競馬オッズ計算機

中央競馬・地方競馬のオッズ情報から、購入した馬券が的中した場合の払戻金を計算できるWebアプリケーションです。

## 🌟 機能

### 対応している馬券種類
- **単勝**: 1着になる馬を当てる
- **複勝**: 3着以内に入る馬を当てる
- **馬連**: 1・2着に入る2頭を当てる（順不同）
- **馬単**: 1・2着を着順通りに当てる
- **ワイド**: 3着以内に入る2頭を当てる（順不同）
- **三連複**: 1・2・3着に入る3頭を当てる（順不同）
- **三連単**: 1・2・3着を着順通りに当てる

### 主な機能
- ✅ 馬番とオッズの入力
- ✅ 購入金額の設定（100円単位）
- ✅ 的中馬番の選択
- ✅ 払戻金の自動計算
- ✅ 損益と回収率の表示
- ✅ レスポンシブデザイン（スマホ対応）

## 🚀 使い方

1. **馬券種類を選択**
   - 単勝、複勝、馬連、馬単、ワイド、三連複、三連単から選択

2. **オッズ入力**
   - 馬番とオッズを入力
   - 「＋ 馬を追加」ボタンで入力欄を追加可能

3. **購入金額を入力**
   - 100円単位で入力してください

4. **的中馬番を選択**
   - 馬券種類に応じて、的中した馬番をクリックして選択

5. **計算実行**
   - 「払戻金を計算」ボタンをクリック
   - 払戻金、損益、回収率が表示されます

## 📊 オッズ情報の入手方法

このアプリケーションはオッズ情報を自動取得しません。以下のサイトからオッズ情報を確認して、手動で入力してください。

### 中央競馬（JRA）
- [JRA公式サイト](https://www.jra.go.jp/)
- [netkeiba](https://www.netkeiba.com/)

### 地方競馬
- [地方競馬全国協会](https://www.keiba.go.jp/)
- [netkeiba 地方競馬](https://nar.netkeiba.com/)

## 💻 技術スタック

- HTML5
- CSS3（レスポンシブデザイン）
- Vanilla JavaScript（フレームワーク不使用）

## 🌐 GitHub Pagesでのデプロイ方法

### 自動デプロイ（推奨）

1. このリポジトリをフォークまたはクローン
2. GitHubリポジトリの Settings > Pages に移動
3. Source で \`main\` ブランチを選択
4. Save をクリック
5. 数分後、\`https://yourusername.github.io/dai-keiba/\` でアクセス可能

### ローカルでの動作確認

\`\`\`bash
# リポジトリをクローン
git clone https://github.com/yourusername/dai-keiba.git
cd dai-keiba

# ローカルサーバーを起動（Python 3の場合）
python -m http.server 8000

# ブラウザで http://localhost:8000 にアクセス
\`\`\`

## 📝 注意事項

### 計算について
- **払戻金は10円未満切り捨て**で計算されます
- 馬連、馬単、ワイド、三連複、三連単のオッズは、選択した馬の単勝オッズから**簡易計算**しています
- 実際の払戻金は、組み合わせごとのオッズによって異なります
- より正確な計算を行う場合は、実際の組み合わせオッズを入力してください

### 免責事項
- このアプリケーションは**計算ツール**です。実際の馬券購入機能はありません
- オッズ情報の正確性については保証できません
- 馬券の購入は自己責任で行ってください
- ギャンブル依存症にご注意ください

## 🛠️ カスタマイズ

### 色やデザインの変更

\`style.css\` の \`:root\` セクションで色を変更できます：

\`\`\`css
:root {
    --primary-color: #2c5f2d;     /* メインカラー */
    --secondary-color: #d4af37;   /* セカンダリカラー */
    --accent-color: #ff6b35;      /* アクセントカラー */
    /* ... */
}
\`\`\`

### 計算ロジックの改善

\`script.js\` の以下の関数を編集することで、より正確な計算ロジックを実装できます：

- \`calculateDoublePayout()\` - 馬連、馬単、ワイドの計算
- \`calculateTriplePayout()\` - 三連複、三連単の計算

## 📚 参考資料

### 競馬データ取得に関する調査結果

調査の結果、以下のことがわかりました：

#### スクレイピングの課題
- [netkeiba](https://www.netkeiba.com/) は現在スクレイピングが禁止されている
- JRAサイトは可能だが、GitHub Pagesは静的サイトなのでサーバーサイド処理ができない
- CORS問題により、クライアントサイドから直接APIアクセスは困難

#### 利用可能なAPI
- [JRA-VAN DataLab](https://jra-van.jp/nx/) (有料、月額2,090円)
- 公式の無料JSON APIは存在しない

### 参考リンク
- [JRA 払戻計算式](https://jra.jp/faq/pop03/1_17.html)
- [競馬データスクレイピングに関する記事](https://www.octoparse.jp/blog/how-to-collect-horse-racing-information)

## 🤝 コントリビューション

プルリクエストを歓迎します！大きな変更の場合は、まずissueを開いて変更内容を議論してください。

## 📄 ライセンス

MIT License

## 👤 作成者

Created with Claude Code

---

**⚠️ ギャンブルは計画的に。20歳未満の方の馬券購入は法律で禁止されています。**
